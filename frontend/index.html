<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Project Search - ArcSpatial DB</title>
    <link rel="stylesheet" href="css/styles.css">
</head>
<body>
    <!-- Header with Logo and Copyright -->
    <div class="header-footer">
        <div class="logo-section">
            <div class="logo">
                <img src="assets/rocket.jpg" alt="Rocket Logo" style="width: 36px; height: 36px; object-fit: contain; border-radius: 50%; background: white;">
            </div>
            <div class="company-info">
                <strong>ARCgis PRO DataBase</strong><br>
                <span style="font-size: 11px;">פרוייקט שימור הידע של (נוסיף שיתאפשר)</span><br>
                <span class="copyright">@Rocket Team Production</span>
            </div>
        </div>
        <div class="copyright">
            Version 2.0 | Spatial Database Management System
        </div>
    </div>
    
    <!-- Error message container -->
    <div id="error-message" class="error" style="display: none;"></div>
    
    <h2>Project Search</h2>
    <form id="searchForm">
        <label>Bottom Left (XMin/YMin): 
            <input name="bottom_left" type="text" placeholder="e.g., 10.5/20.1">
        </label>
        <label>Top Right (XMax/YMax): 
            <input name="top_right" type="text" placeholder="e.g., 30.0/40.8">
        </label>
        
        <div id="relative_size_row" class="full-width-row">
            <label style="display: flex; align-items: center; gap: 10px;">
                <input name="relative_size" id="relative_size_checkbox" type="checkbox" value="1"> Intersection Range
            </label>
            <div id="relative_size_percentages" style="display: none; gap: 10px; align-items: center; margin-left: 20px;">
                <label style="margin-bottom:0;">From: 
                    <input name="relative_size_from" type="number" min="0" max="1000" step="0.1" placeholder="e.g., 10">%
                </label>
                <label style="margin-bottom:0; margin-left: 10px;">To: 
                    <input name="relative_size_to" type="number" min="0" max="1000" step="0.1" placeholder="e.g., 20">%
                </label>
            </div>
        </div>
        
        <label class="full-width-field">Project UUID: 
            <input name="uuid" type="text" placeholder="e.g., a1b2c3d4-e5f6-7890-1234-567890abcdef">
        </label>
        
        <div id="user_name_fields" style="grid-column: 1 / -1;">
            <label>User Name:
                <select name="user_name">
                    <option value=""></option>
                </select>
            </label>
        </div>
        <button type="button" id="addUserNameBtn">Add another user name</button>
        
        <div class="full-width-row" id="paper_size_row">
            <label style="margin-bottom:0;">Paper Size:
                <select name="paper_size" id="paper_size_select">
                    <option value="">Select Paper Size</option>
                    <option value="A0 (Portrait)">A0 (Portrait)</option>
                    <option value="A0 (Landscape)">A0 (Landscape)</option>
                    <option value="A1 (Portrait)">A1 (Portrait)</option>
                    <option value="A1 (Landscape)">A1 (Landscape)</option>
                    <option value="A2 (Portrait)">A2 (Portrait)</option>
                    <option value="A2 (Landscape)">A2 (Landscape)</option>
                    <option value="A3 (Portrait)">A3 (Portrait)</option>
                    <option value="A3 (Landscape)">A3 (Landscape)</option>
                    <option value="A4 (Portrait)">A4 (Portrait)</option>
                    <option value="A4 (Landscape)">A4 (Landscape)</option>
                    <option value="A5 (Portrait)">A5 (Portrait)</option>
                    <option value="A5 (Landscape)">A5 (Landscape)</option>
                    <option value="B0 (Portrait)">B0 (Portrait)</option>
                    <option value="B0 (Landscape)">B0 (Landscape)</option>
                    <option value="custom">Custom Size</option>
                </select>
            </label>
            <div id="custom_size_fields" style="display: none; margin-left: 15px; flex: 0 0 auto;">
                <label style="margin-bottom:0;">Custom Height (cm): 
                    <input name="custom_height" type="number" step="0.1" placeholder="e.g., 29.7">
                </label>
                <label style="margin-bottom:0; margin-left: 10px;">Custom Width (cm): 
                    <input name="custom_width" type="number" step="0.1" placeholder="e.g., 21.0">
                </label>
            </div>
        </div>
        
        <label>Scale: 
            <input name="scale" type="text" placeholder="e.g., 1000">
        </label>
        
        <div id="date_range_fields">
            <label>Date Range:
                <div style="display: flex; gap: 10px; align-items: center;">
                    <input name="date_from" type="text" placeholder="DD/MM/YYYY (e.g., 09/07/2025)" style="flex: 1;" pattern="[0-9]{2}/[0-9]{2}/[0-9]{4}">
                    <span>to</span>
                    <input name="date_to" type="text" placeholder="DD/MM/YYYY (e.g., 25/12/2025)" style="flex: 1;" pattern="[0-9]{2}/[0-9]{2}/[0-9]{4}">
                </div>
            </label>
        </div>
        
        <div class="center-query-btn">
            <input type="submit" value="Query">
            <button type="button" id="resetBtn">Reset Query</button>
        </div>
    </form>

    <!-- Search Results Section -->
    <div id="search-results">
        <!-- Search results will be populated here -->
    </div>

    <hr>

    <!-- All Projects Section -->
    <div id="all-projects">
        <!-- All projects table will be populated here -->
    </div>

    <hr>

    <!-- All Areas Section -->
    <div id="all-areas">
        <!-- All areas table will be populated here -->
    </div>

    <!-- File Modal -->
    <div id="fileModal" class="modal">
        <div id="fileModalContent" class="modal-content">
            <button onclick="app.closeFileModal()" class="close">Close</button>
            <div id="fileModalBody"></div>
        </div>
    </div>
    
    <!-- Gallery Modal for All Files -->
    <div id="galleryModal" class="gallery-modal">
        <div id="galleryModalContent" class="gallery-modal-content">
            <div class="gallery-header">
                <h3 id="galleryTitle">Project Files</h3>
                <button onclick="app.closeGalleryModal()" class="close">Close</button>
            </div>
            
            <div id="galleryContainer" class="gallery-container">
                <!-- Navigation Arrows -->
                <button id="prevBtn" onclick="app.previousFile()" class="gallery-nav-btn prev">‹</button>
                <button id="nextBtn" onclick="app.nextFile()" class="gallery-nav-btn next">›</button>
                
                <!-- File Display Area -->
                <div id="galleryFileDisplay" class="gallery-file-display">
                    <!-- Content will be loaded here -->
                </div>
            </div>
            
            <!-- File Info and Navigation -->
            <div class="gallery-footer">
                <div id="fileInfo" class="gallery-file-info">
                    <div id="fileName" class="gallery-file-name"></div>
                    <div id="fileDate" class="gallery-file-date"></div>
                </div>
                <div id="fileCounter" class="gallery-file-counter"></div>
                <div id="fileType" class="gallery-file-type"></div>
            </div>
        </div>
    </div>

    <!-- Footer with Logo and Copyright -->
    <div class="header-footer">
        <div class="logo-section">
            <div class="logo">
                <img src="assets/rocket.jpg" alt="Rocket Logo" style="width: 36px; height: 36px; object-fit: contain; border-radius: 50%; background: white;">
            </div>
            <div class="company-info">
                <strong>ARCgis PRO DataBase</strong><br>
                <span style="font-size: 11px;">פרוייקט שימור הידע של (נוסיף שיתאפשר)</span><br>
                <span class="copyright">@Rocket Team Production</span>
            </div>
        </div>
    </div>

    <script src="js/main.js"></script>
</body>
</html>
